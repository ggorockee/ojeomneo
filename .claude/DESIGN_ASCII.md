================================================================================
                    오점너 (OJeomNeo) - 전체 화면 설계 (최종 확정)
================================================================================

┌─────────────────────────────────────────────────────────────────────────────┐
│                         [ 1. 스플래시 화면 ]                                │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════╗
║                                 ║
║                                 ║
║                                 ║
║           ╔═══════╗             ║
║           ║       ║             ║
║           ║  👉🍱  ║             ║
║           ║       ║             ║
║           ╚═══════╝             ║
║                                 ║
║            오점너               ║
║      오늘 점심은 너야!          ║
║                                 ║
║                                 ║
║         ●  ○  ○  ○              ║
║                                 ║
╚═════════════════════════════════╝


┌─────────────────────────────────────────────────────────────────────────────┐
│                    [ 2. 온보딩 1/2/3 ] (첫 실행만)                          │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════╗
║                                 ║
║         ┌───────────┐           ║
║         │    👉🍱   │           ║
║         └───────────┘           ║
║                                 ║
║        오점너에 오신 것을       ║
║        환영합니다!              ║
║                                 ║
║     매일 점심 고민?             ║
║     이제 3초만에 해결!          ║
║                                 ║
║        ○  ○  ●                 ║
║                                 ║
║  [건너뛰기]          [다음 →]  ║
╚═════════════════════════════════╝

(온보딩 2, 3 생략...)


┌─────────────────────────────────────────────────────────────────────────────┐
│                    [ 3. 로그인/회원가입 선택 ]                              │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════╗
║                                 ║
║         ┌───────────┐           ║
║         │   👉🍱    │           ║
║         └───────────┘           ║
║                                 ║
║            오점너               ║
║      오늘 점심은 너야!          ║
║                                 ║
║─────────────────────────────────║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │  🔵  Google로 계속하기  │   ║
║  └─────────────────────────┘   ║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │  🍎  Apple로 계속하기   │   ║
║  └─────────────────────────┘   ║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │  🟡  Kakao로 계속하기   │   ║
║  └─────────────────────────┘   ║
║                                 ║
║─────────────────────────────────║
║                                 ║
║     이메일로 계속하기 →         ║
║                                 ║
║─────────────────────────────────║
║                                 ║
║     회원가입 없이 진행하기      ║
║              ↓                  ║
║                                 ║
╚═════════════════════════════════╝


┌─────────────────────────────────────────────────────────────────────────────┐
│                    [ 4. 비회원 경고 팝업 ]                                  │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════╗
║                                 ║
║  [로그인 화면 - 어두워짐]       ║
║                                 ║
║   ┌─────────────────────────┐  ║
║   │   ⚠️                     │  ║
║   │                          │  ║
║   │  회원가입 없이 진행?     │  ║
║   │                          │  ║
║   │  회원가입을 하지 않으면  │  ║
║   │  다녀온 데이터는         │  ║
║   │  3주만 보관됩니다.       │  ║
║   │                          │  ║
║   │  3주 이후 데이터는       │  ║
║   │  자동으로 삭제됩니다.    │  ║
║   │                          │  ║
║   │  ┌────────────────────┐ │  ║
║   │  │  그래도 진행하기   │ │  ║
║   │  └────────────────────┘ │  ║
║   │                          │  ║
║   │  ┌────────────────────┐ │  ║
║   │  │  회원가입하기      │ │  ║
║   │  └────────────────────┘ │  ║
║   └─────────────────────────┘  ║
╚═════════════════════════════════╝


┌─────────────────────────────────────────────────────────────────────────────┐
│                    [ 5. 위치 권한 요청 ]                                    │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════╗
║                                 ║
║         ┌───────────┐           ║
║         │   📍🗺️   │           ║
║         └───────────┘           ║
║                                 ║
║      위치 권한이 필요해요       ║
║                                 ║
║   주변 식당을 추천하기 위해     ║
║   현재 위치 정보가 필요합니다   ║
║                                 ║
║  이 권한은:                     ║
║  • 현재 위치 기반 식당 검색     ║
║  • 거리 계산                    ║
║  • 지도 표시                    ║
║  에 사용됩니다                  ║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │      허용하기            │   ║
║  └─────────────────────────┘   ║
║                                 ║
║      나중에 설정하기 →          ║
╚═════════════════════════════════╝


┌─────────────────────────────────────────────────────────────────────────────┐
│                    [ 6. 홈 화면 ] (회원)                                    │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════╗
║  오늘 점심        🔔  ⚙️         ║
║  뭐 먹을까요?                    ║
║─────────────────────────────────║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │  ☀️  맑음  18°C          │   ║
║  │                          │   ║
║  │  오늘 같은 날엔...       │   ║
║  │  🍜 시원한 냉면 어때요?  │   ║
║  └─────────────────────────┘   ║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │        🎰                │   ║
║  │                          │   ║
║  │   오늘 점심 뽑기! 👉     │   ║
║  │                          │   ║
║  └─────────────────────────┘   ║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │  🗺️  지도에서 찾기       │   ║
║  │  주변 식당 확인 →        │   ║
║  └─────────────────────────┘   ║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │  📋  방문 기록           │   ║
║  │  내가 다녀온 식당 →      │   ║
║  └─────────────────────────┘   ║
║                                 ║
║─────────────────────────────────║
║  🏠    🗺️    📋    ⚙️          ║
╚═════════════════════════════════╝


┌─────────────────────────────────────────────────────────────────────────────┐
│                    [ 7. 홈 화면 ] (비회원 - 3주 배너)                       │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════╗
║  오늘 점심        🔔  ⚙️         ║
║  뭐 먹을까요?                    ║
║─────────────────────────────────║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │ ⚠️ 비회원 모드            │   ║
║  │ 데이터 삭제까지 18일 남음 │   ║
║  │ [회원가입하기 →]         │   ║
║  └─────────────────────────┘   ║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │  ☀️  맑음  18°C          │   ║
║  │  오늘 같은 날엔...       │   ║
║  │  🍜 시원한 냉면 어때요?  │   ║
║  └─────────────────────────┘   ║
║                                 ║
║  [오늘 점심 뽑기]               ║
║  [지도에서 찾기]                ║
║  [방문 기록]                    ║
║                                 ║
║─────────────────────────────────║
║  🏠    🗺️    📋    ⚙️          ║
╚═════════════════════════════════╝


┌─────────────────────────────────────────────────────────────────────────────┐
│                    [ 8. 슬롯머신 화면 ]                                     │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════╗
║  ← 슬롯머신                      ║
║─────────────────────────────────║
║                                 ║
║         ┌───────────┐           ║
║         │    🎰     │           ║
║         └───────────┘           ║
║                                 ║
║      오늘의 점심을              ║
║      추천받아보세요!            ║
║                                 ║
║─────────────────────────────────║
║                                 ║
║  📍 거리 선택                    ║
║     ◉ 100m  ○ 500m  ○ 1km  ○ 2km  ║
║                                 ║
║─────────────────────────────────║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │                          │   ║
║  │  "오"늘 "점"심은 "너"야!│   ║
║  │          👉              │   ║
║  │                          │   ║
║  │  ☀️ 맑음 18°C            │   ║
║  │  시원한 메뉴 추천중...   │   ║
║  │                          │   ║
║  └─────────────────────────┘   ║
║                                 ║
║─────────────────────────────────║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │      [   광고 영역   ]   │   ║
║  │  쿠팡이츠 5000원 할인!  │   ║
║  └─────────────────────────┘   ║
║                                 ║
╚═════════════════════════════════╝


┌─────────────────────────────────────────────────────────────────────────────┐
│                    [ 9. 슬롯머신 돌아가는 중 ]                              │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════╗
║  ← 슬롯머신                      ║
║─────────────────────────────────║
║                                 ║
║                                 ║
║         ┌───────────┐           ║
║         │ 🍕🍜🍔 │           ║
║         │ 🍱🍝🌮 │           ║
║         │ 🍗🍛🥗 │           ║
║         └───────────┘           ║
║                                 ║
║                                 ║
║      추천 중입니다...           ║
║                                 ║
║         ⏳ ⏳ ⏳               ║
║                                 ║
║                                 ║
╚═════════════════════════════════╝


┌─────────────────────────────────────────────────────────────────────────────┐
│                    [ 10. 슬롯머신 결과 화면 ]                               │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════╗
║  ← 슬롯머신                      ║
║─────────────────────────────────║
║                                 ║
║          ✨ 오늘은! ✨          ║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │                          │   ║
║  │    🍜                    │   ║
║  │                          │   ║
║  │    맛있는 국수집         │   ║
║  │                          │   ║
║  │    ⭐ 4.5  (128)         │   ║
║  │    한식 · 250m           │   ║
║  │                          │   ║
║  │    ☀️ 날씨 기반 추천     │   ║
║  │    "맑은 날엔 시원한     │   ║
║  │     국수가 딱이야!"      │   ║
║  │                          │   ║
║  └─────────────────────────┘   ║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │  🗺️ Naver Map에서 보기 │   ║
║  └─────────────────────────┘   ║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │  ✅  방문 완료           │   ║
║  └─────────────────────────┘   ║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │    🔄  다시 돌리기       │   ║
║  └─────────────────────────┘   ║
║                                 ║
╚═════════════════════════════════╝


┌─────────────────────────────────────────────────────────────────────────────┐
│                    [ 11. 지도 화면 ]                                        │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════╗
║  ← 주변 식당          [500m ▼]  ║
║─────────────────────────────────║
║                                 ║
║    🗺️  [Naver Map]             ║
║                                 ║
║       📍 현위치                 ║
║         🔵 ← 파란 원 (반경)     ║
║    📍     📍                    ║
║        📍      📍               ║
║                                 ║
║  📍          📍                 ║
║       ╭─────────╮               ║
║      │    500m   │              ║
║       ╰─────────╯               ║
║                                 ║
║─────────────────────────────────║
║  ╔═══════════════════════════╗ ║
║  ║ ┃ 주변 식당 12곳           ║ ║
║  ╠═══════════════════════════╣ ║
║  ║ ┌────────────────────────┐║ ║
║  ║ │📍 맛있는국수  ⭐4.5    │║ ║
║  ║ │   한식 · 250m          │║ ║
║  ║ │   [지도보기] [체크✅]  │║ ║
║  ║ └────────────────────────┘║ ║
║  ║ ┌────────────────────────┐║ ║
║  ║ │📍 피자천국    ⭐4.3    │║ ║
║  ║ │   양식 · 380m          │║ ║
║  ║ │   [지도보기] [체크✅]  │║ ║
║  ║ └────────────────────────┘║ ║
╚═════════════════════════════════╝


┌─────────────────────────────────────────────────────────────────────────────┐
│                    [ 12. 방문 기록 메인 ]                                   │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════╗
║  방문 기록           🔍  🗺️     ║
║─────────────────────────────────║
║                                 ║
║  📊 이번 달 통계                ║
║  ┌─────────────────────────┐   ║
║  │ 총 방문      18회        │   ║
║  │ 새로운 식당   3곳        │   ║
║  │ 재방문       15회        │   ║
║  │                          │   ║
║  │ 최애 카테고리            │   ║
║  │ 1위 한식 🍜  7회         │   ║
║  │ 2위 일식 🍱  5회         │   ║
║  │ 3위 양식 🍕  3회         │   ║
║  │                          │   ║
║  │ 최애 식당                │   ║
║  │ 🏆 맛있는국수 (5회)      │   ║
║  └─────────────────────────┘   ║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │  📍 지도에서 보기        │   ║
║  └─────────────────────────┘   ║
║                                 ║
║─────────────────────────────────║
║  📅 최근 방문                   ║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │ 오늘                     │   ║
║  │ 🍜 맛있는국수            │   ║
║  │ 한식 · 250m              │   ║
║  │ 👥 5번째 방문            │   ║
║  └─────────────────────────┘   ║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │ 어제                     │   ║
║  │ 🍕 피자천국              │   ║
║  │ 양식 · 380m              │   ║
║  │ 👥 첫 방문               │   ║
║  └─────────────────────────┘   ║
║                                 ║
║  ┌─────────────────────────┐   ║
║  │ 3일 전                   │   ║
║  │ 🍱 김밥나라              │   ║
║  │ 한식 · 120m              │   ║
║  │ 👥 2번째 방문            │   ║
║  └─────────────────────────┘   ║
║                                 ║
║─────────────────────────────────║
║  🏠    🗺️    📋    ⚙️          ║
╚═════════════════════════════════╝


┌─────────────────────────────────────────────────────────────────────────────┐
│                    [ 13. 방문 기록 지도 뷰 ]                                │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════╗
║  ← 내가 간 식당 지도             ║
║─────────────────────────────────║
║                                 ║
║    🗺️  [Naver Map]             ║
║                                 ║
║       📍 현위치                 ║
║                                 ║
║    ┌───┐                       ║
║    │ 2 │                       ║
║    └───┘                        ║
║    📍 (중간 크기)               ║
║                                 ║
║         ┌────┐                 ║
║         │5++ │  ← 5회 이상!    ║
║         └────┘                  ║
║         📍 ✨ (크고 강조)       ║
║                                 ║
║  ┌───┐        ┌───┐            ║
║  │ 3 │        │ 1 │            ║
║  └───┘        └───┘            ║
║  📍            📍 (작음)        ║
║                                 ║
║              ┌────┐             ║
║              │5++ │  ← 7회도    ║
║              └────┘    5++      ║
║              📍 ✨              ║
║                                 ║
║─────────────────────────────────║
║  ╔═══════════════════════════╗ ║
║  ║ 🍜 맛있는국수             ║ ║
║  ║ 한식 · 250m               ║ ║
║  ║ 👥 5회 이상 방문 (단골!)  ║ ║
║  ║                            ║ ║
║  ║ 마지막 방문: 오늘          ║ ║
║  ║                            ║ ║
║  ║ [지도보기]  [길찾기]      ║ ║
╚═════════════════════════════════╝


┌─────────────────────────────────────────────────────────────────────────────┐
│                    [ 14. 설정 화면 ]                                        │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════╗
║  ← 설정                          ║
║─────────────────────────────────║
║                                 ║
║  👤 프로필                       ║
║  ┌─────────────────────────┐   ║
║  │  [👤]  홍길동            │   ║
║  │  gildong@example.com    │   ║
║  │  프로필 수정 →           │   ║
║  └─────────────────────────┘   ║
║                                 ║
║─────────────────────────────────║
║  🎯 추천 설정                    ║
║                                 ║
║  기본 검색 반경                 ║
║  ◉ 100m  ○ 500m  ○ 1km  ○ 2km  ║
║                                 ║
║  선호 음식 카테고리             ║
║  [✓ 한식]  [✓ 일식]            ║
║  [ 중식]  [ 양식]              ║
║                                 ║
║  비선호 음식                    ║
║  [ 매운맛]  [ 해산물]          ║
║                                 ║
║─────────────────────────────────║
║  🔔 알림                         ║
║                                 ║
║  점심 시간 알림          [ON]   ║
║  새로운 추천 알림        [OFF]  ║
║                                 ║
║─────────────────────────────────║
║  ℹ️ 앱 정보                      ║
║                                 ║
║  버전 정보                      ║
║  공지사항                       ║
║  이용약관                       ║
║  개인정보처리방침               ║
║  문의하기                       ║
║                                 ║
║─────────────────────────────────║
║  🚪 로그아웃                     ║
║  회원 탈퇴                      ║
║                                 ║
╚═════════════════════════════════╝


================================================================================
                              [ 화면 흐름도 - 최종 ]
================================================================================

[스플래시]
    ↓
[온보딩 1/2/3] (첫 실행만)
    ↓
[로그인/회원가입 선택]
    ├─→ [Google/Apple/Kakao 로그인]
    ├─→ [이메일 로그인] ↔ [이메일 회원가입]
    └─→ [비회원 경고 팝업] → [비회원 모드]
    ↓
[위치 권한 요청]
    ↓
[홈 화면]
    ├─→ [슬롯머신] → [돌리기] → [결과] ─┬─→ [Naver Map 연결]
    │                                    └─→ [✅ 방문 완료] (자동 저장)
    │
    ├─→ [지도] → 식당 리스트 ─┬─→ [Naver Map 연결]
    │                         └─→ [✅ 방문 완료] (자동 저장)
    │
    ├─→ [방문 기록] ↔ [방문 기록 지도]
    │
    └─→ [설정]


================================================================================
                           [ 방문 완료 자동 저장 로직 ]
================================================================================

사용자가 "✅ 방문 완료" 버튼을 누르면:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 현재 날짜/시간으로 자동 저장
   visited_at = DateTime.now()

2. Toast 메시지 표시
   "방문 기록이 저장되었습니다!"

3. 별도 화면 이동 없음
   같은 화면에 그대로 유지

4. 방문 횟수 자동 증가
   visit_count++


버튼 상태 관리:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

미방문:  [✅ 방문 완료]
방문함:  [✓ 방문함] (회색, 비활성)

재방문 시: 다시 [✅ 방문 완료] 버튼 활성화


================================================================================
                           [ 데이터 모델 - 최종 ]
================================================================================

Visit (방문 기록)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
id                  UUID PRIMARY KEY
user_id             UUID FOREIGN KEY (CASCADE)
restaurant_id       UUID FOREIGN KEY (CASCADE)
visited_at          TIMESTAMP NOT NULL DEFAULT NOW()
created_at          TIMESTAMP DEFAULT NOW()

※ 별점, 메모, 태그 모두 제거
※ 날짜는 자동으로 현재 시간


================================================================================
                           [ API - 최종 ]
================================================================================

POST /visits (방문 기록 추가)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Request Body:
{
  "restaurant_id": "uuid"
}

Response:
{
  "success": true,
  "data": {
    "id": "uuid",
    "restaurant_id": "uuid",
    "visited_at": "2025-10-20T12:30:00Z",
    "visit_count": 5
  },
  "message": "방문 기록이 저장되었습니다!"
}


GET /visits (방문 기록 목록)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Response:
{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "restaurant": {
        "id": "uuid",
        "name": "맛있는국수",
        "category": "korean",
        "distance": 250
      },
      "visited_at": "2025-10-20T12:30:00Z",
      "visit_count": 5
    }
  ]
}


GET /visits/statistics
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Response:
{
  "success": true,
  "data": {
    "total_visits": 18,
    "unique_restaurants": 12,
    "new_restaurants": 3,
    "revisits": 15,
    "category_breakdown": {
      "korean": 7,
      "japanese": 5,
      "western": 3
    },
    "top_restaurant": {
      "name": "맛있는국수",
      "visit_count": 5
    }
  }
}


GET /visits/map-data
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Response:
{
  "success": true,
  "data": [
    {
      "restaurant_id": "uuid",
      "name": "맛있는국수",
      "location": {"lat": 37.1234, "lng": 127.5678},
      "visit_count": 7,
      "display_count": "5++",
      "last_visited": "2025-10-20",
      "category": "korean"
    }
  ]
}


================================================================================
                           [ 방문 횟수 표시 규칙 ]
================================================================================

┌─────────────────────────────────────────────────────────────────┐
│ 방문 횟수  │ 표시      │ 크기    │ 강조                        │
├─────────────────────────────────────────────────────────────────┤
│ 1회        │ 1         │ 작음    │ 기본                        │
│ 2-3회      │ 2, 3      │ 중간    │ 중간 강조                   │
│ 4-5회      │ 4, 5      │ 크게    │ 강조                        │
│ 6회 이상   │ 5++       │ 가장큼  │ 최대 강조 + ✨ 반짝임       │
└─────────────────────────────────────────────────────────────────┘


================================================================================
                           [ 최종 화면 개수 ]
================================================================================

인증/온보딩: 8개
메인 기능: 6개
   - 홈 (회원/비회원)
   - 슬롯머신
   - 슬롯머신 돌아가는 중
   - 슬롯머신 결과
   - 지도

방문 기록: 2개
   - 방문 기록 메인
   - 방문 기록 지도 뷰

설정: 1개

총 17개 화면 (20개 → 18개 → 17개)


================================================================================
                           [ 핵심 변경사항 요약 ]
================================================================================

✅ 방문 기록 추가 화면 제거
   - "✅ 방문 완료" 버튼으로 즉시 저장
   - 현재 날짜/시간 자동 입력
   - Toast 메시지로 확인

✅ 색상 코드 제거
   - CSS 별도 관리
   - 디자인 유연성 확보

✅ 심플한 UX
   - 클릭 한 번으로 방문 기록
   - 별점, 메모, 태그 불필요
   - 빠른 체크인 경험


================================================================================